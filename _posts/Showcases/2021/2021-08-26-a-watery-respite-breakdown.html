---
title: A watery respite (breakdown)
layout: post
category: showcase
preview-video: assets/posts/2021/a-watery-respite-breakdown/preview.mp4
image: /assets/posts/2021/a-watery-respite-breakdown/preview_still.jpg
---

<div class="container video__container youtube round margin--vertical">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/1ZGlIl1YJSo?autoplay=0&rel=0" title="YouTube video player" frameborder="0" autoplay="false" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>

<div class="grid__maxcolumns--2 grid__align--bottom">
    <div class="container__list round">
        <h2>Main components</h2>
        <ul>
            <li>Water shader</li>
        </ul>
    </div>
    <div class="container__list round">
        <h2>Tools used</h2>
        <ul>
            <li><i class="fas fa-chess-board"></i> <a href="https://github.com/alelievr/Mixture" target="_blank"><em>Mixture</em></a> (noise texutres)</li>
            <li><i class="fab fa-unity"></i> <em>Unity</em> URP</li>
        </ul>
    </div>
</div>

<h1>üìùDescription</h1>
<p>The video shows a breakdown of my latest water shader, made with <em>Unity</em> using URP. The shader features the following.</p>

<ul>
    <li>Distance based colouring</li>
    <li>Vertex displacement</li>
    <li>Tessellation</li>
    <li><em>Blinn-Phong specular reflection</em></li>
    <li>Height derivative maps, for flow dependent normals</li>
    <li>Flow map UV distortion</li>
    <li>Shadows</li>
    <li>Transparency with underwater tinting</li>
    <li>Refraction</li>
    <li>Tri-planar projected caustics</li>
    <li>Additional fake specular effects</li>
    <li>Interactive ripple particles that affect flow</li>
    <li>Planar reflections</li>
    <li>Fog</li>
</ul>

<p>The caustics and ripple particles can be seen better in the following clip.</p>

<div class="container video__container youtube round margin--vertical">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/DMAPtyZoGmg?autoplay=0&rel=0" title="YouTube video player" frameborder="0" autoplay="false" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>


<h1>üìòAcknowledgements</h1>
<p>This shader was inspired by the following references/tutorials, which are ordered by content creator.</p>

<ul>
    <li><a href="https://www.alanzucconi.com/" target="_blank"><em>Alan Zucconi</em></a>
        <ul><li>A great introductory <a href="https://www.alanzucconi.com/2019/09/13/believable-caustics-reflections/" target="_blank">tutorial</a> on making believable caustics</li></ul>
    </li>
    <li><a href="https://halfpastyellow.com/" target="_blank"><em>Half Past Yellow</em></a>
        <ul><li>Two great blogs (<a href="https://halfpastyellow.com/blog/2020/10/01/Yet-Another-Stylised-Water-Shader.html" target="_blank">1</a>, <a href="https://halfpastyellow.com/blog/2020/10/15/Flow-Like-Water.html" target="_blank">2</a>) on their water shader, with most important inspiration being the flow particles</li></ul>
    </li>
    <li><a href="https://catlikecoding.com/unity/tutorials/" target="_blank"><em>Jasper Flink</em></a> (<em>Catlike Coding</em>)
        <ul>
            <li>The <a href="https://catlikecoding.com/unity/tutorials/flow/" target="_blank">series</a> on flow and water shaders has been the backbone for my water shaders</li>
            <li>His <a href="https://catlikecoding.com/unity/tutorials/advanced-rendering/tessellation/" target="_blank">tutorial</a> on tessellation is a great introduction to it</li>
            <li>Similarly his <a href="https://catlikecoding.com/unity/tutorials/advanced-rendering/triplanar-mapping/" target="_blank">tutorial</a> on tri-planar mapping is great as well</li>
        </ul>
    </li>
    <li><a href="https://minionsart.github.io/tutorials/" target="_blank"><em>Joyce</em></a> (<em>Minions Art</em>)
        <ul>
            <li>She has a quick and concise <a href="https://www.patreon.com/posts/45320078" target="_blank">tutorial</a> on adding tessellation to URP shaders</li>
            <li>Another great <a href="https://www.patreon.com/posts/24192529" target="_blank">tutorial</a> is on adding water ripples using the particle system and an orthographic camera</li>
        </ul>
    </li>
    <li><a href="https://nedmakesgames.github.io/" target="_blank"><em>Ned</em></a> (<em>NedMakesGames</em>)
        <ul><li>The projected tri-planar mapping requires scene normals, which <em>Ned</em> has a <a href="https://www.youtube.com/watch?v=fW-5srSHDMc" target="_blank">tutorial</a> on using SRP‚Äôs render features.</li></ul>
    </li>
    <li><a href="https://simonschreibt.de/" target="_blank"><em>Simon Tr√ºmpler</em></a> (<em>Simon schreibt</em>)
        <ul><li>His <a href="https://www.youtube.com/watch?v=4FIDBeF_4SI&t=828s" target="_blank">talk</a> about the water of <em>Rime</em> was the main inspiration for this shader</li></ul>
    </li>
    <li><a href="https://unity.com/" target="_blank"><em>Unity</em></a> (you know, the game engine company)
        <ul><li>A <a href="https://github.com/Unity-Technologies/BoatAttack/blob/master/Packages/com.verasl.water-system/Scripts/Rendering/PlanarReflections.cs" target="_blank">script</a> from their <em>boat attack</em> demo project is used to for sampling planar reflections</li></ul>
    </li>
</ul>